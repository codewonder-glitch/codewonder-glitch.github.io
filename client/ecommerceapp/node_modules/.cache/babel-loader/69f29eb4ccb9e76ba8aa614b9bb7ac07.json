{"ast":null,"code":"import _regeneratorRuntime from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{BrowserRouter as Router,Route,Link,Switch}from\"react-router-dom\";import'./styles/shop.scss';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.componentDidMount=function(){_this.getApi();};_this.getApi=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var htmlArr,inputtextArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:htmlArr=[],inputtextArr=[];_context.next=3;return fetch('/products/v1/products',{method:'GET',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(data){var temp=[];console.log(data);htmlArr=data.map(function(dt,i){temp.push(dt.productCount);_this.setState({inputArr:temp});console.log(_this.state.inputArr[i]);return/*#__PURE__*/React.createElement(\"div\",{className:\"cartContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Image\"},/*#__PURE__*/React.createElement(\"img\",{src:dt.productUrl})),/*#__PURE__*/React.createElement(\"div\",{className:\"productInfo\"},/*#__PURE__*/React.createElement(\"p\",null,dt.productName),/*#__PURE__*/React.createElement(\"p\",null,dt.productBrand),/*#__PURE__*/React.createElement(\"p\",null,dt.productId),/*#__PURE__*/React.createElement(\"p\",null,\"In Stock\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",type:\"submit\",value:dt.productId,onClick:_this.orderDelete},\" Delete\"),/*#__PURE__*/React.createElement(\"p\",{contentEditable:\"true\",id:i,onChange:function onChange(e){return _this.qtyChange(e,i);}},dt.productCount),/*#__PURE__*/React.createElement(\"p\",null,dt.productCount)),/*#__PURE__*/React.createElement(\"div\",{clasName:\"price\"},\"$\",/*#__PURE__*/React.createElement(\"p\",{style:{display:'inline'}},dt.productPrice)));});//   inputtextArr=this.state.inputArr.map((dt,i)=>{\n//       return(\n//     <input type=\"text\" id={i} onChange={(e)=>this.qtyChange(i,e)} value={dt}/>\n//   )})\n//   this.setState({inputhtmlArray:inputtextArr})\n_this.setState({htmlArray:htmlArr});}).catch(function(err){return console.log('error');});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.orderDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();alert(\"Gif Deleted\");console.log(e.target.value);console.log(e.target.className);_context2.next=6;return fetch(\"/products/v1/products/\"+e.target.value,{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}});case 6://       .then( => {\n//    // let updatedEmployees = [...this.state.employees].filter(i => i.id !== id);\n//        // this.setState({employees: updatedEmployees});\n//       });\n_this.getApi();case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.updateDb=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:document.getElementById(_this.state.urlChange).src=_this.state.filePath;// await fetch(`${'https://cors-anywhere.herokuapp.com/'}https://glacial-woodland-21756.herokuapp.com/giphy/v1/gifs/`+this.state.urlChange, {\n_context3.next=3;return fetch('/products/v1/products'+1,{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({gifUrl:_this.state.filePath})}).then(function(response){return response.json();}).then(function(data){});case 3:case\"end\":return _context3.stop();}}},_callee3);}));_this.qtyChange=function(e,i){// e.preventDefault()\n_this.setState({id:e.target.id});var temp=_this.state.htmlArray;temp[_this.state.id].text=e.target.value;_this.setState({htmlArray:temp});console.log(e.target.value);// var temp=this.state.inputArr[e.target.id];\n// console.log(temp[e.target.id])\n// temp[e.target.id]=32\n// console.log(temp[e.target.id])\n// this.setState({inputArr[e.target.id]:temp[e.target.id]})\n// this.state.inputArr[i]=e.target.value\n//   temp[e.target.id].text=e.target.value\n//this.setState({htmlArray:temp})\n// this.setState({:e.target.value})\n// let newItems = [...this.state.inputArr];\n// newItems[i] = e.target.value;\n//  this.setState({ inputArr:this.state.inputArr });\n};_this.change=function(e){e.preventDefault();_this.setState({why:e.target.value});};_this.state={htmlArray:[],inputArr:[],searchKey:'',srch:'',count:'',inputhtmlArray:[],why:'3',id:0};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"cartParent\"},this.state.htmlArray,this.state.inputhtmlArray));}}]);return Search;}(Component);export{Search as default};","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/client/ecommerceapp/src/components/Cart.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","Switch","Search","props","componentDidMount","getApi","htmlArr","inputtextArr","fetch","method","headers","then","response","json","data","temp","console","log","map","dt","i","push","productCount","setState","inputArr","state","productUrl","productName","productBrand","productId","orderDelete","e","qtyChange","display","productPrice","htmlArray","catch","err","preventDefault","alert","target","value","className","updateDb","document","getElementById","urlChange","src","filePath","body","JSON","stringify","gifUrl","id","text","change","why","searchKey","srch","count","inputhtmlArray"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {  BrowserRouter as Router, Route, Link ,Switch} from \"react-router-dom\";\n\n\nimport './styles/shop.scss'\n\nexport default class Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n            htmlArray:[],\n            inputArr:[],\n        searchKey:'',\n        srch:'',\n        count:'',\n        inputhtmlArray:[],\n        why:'3',\n        id:0\n        \n        }\n    }\n   \n\n    componentDidMount=()=> {\nthis.getApi()\n    }\n        getApi=async()=> {\n            var htmlArr=[], inputtextArr=[]\n            await fetch('/products/v1/products', {\n                method:'GET',\n               headers: {\n                 'Accept': 'application/json',\n                 'Content-Type': 'application/json'\n               }\n               }).then(response=> response.json()) .then(data=>{\n               var temp=[]\n                console.log(data)\n                htmlArr= data.map((dt,i)=>{\ntemp.push(dt.productCount)\n                   this.setState({inputArr:temp})\n                   console.log(this.state.inputArr[i])\n    return(\n    <div className=\"cartContainer\">\n        <div className=\"Image\">\n        <img src={dt.productUrl}/>\n        </div>\n        <div className=\"productInfo\">\n        <p>{dt.productName}</p>\n        <p>{dt.productBrand}</p>\n        <p>{dt.productId}</p>\n        <p>In Stock</p>\n        <button className=\"btn\" type=\"submit\" value={dt.productId} onClick={this.orderDelete}> Delete</button>\n        <p contentEditable=\"true\" id={i} onChange={(e)=>this.qtyChange(e,i)}>{dt.productCount}</p>\n        <p>{dt.productCount}</p>\n        </div>\n        <div clasName=\"price\">\n        $<p  style={{display:'inline'}}>{dt.productPrice}</p>\n        </div>\n       \n        {/* <button value={dt.productID} onClick={this.gifUpdate}> Update</button> */}\n        </div>\n    )\n                    \n      }  ) \n      \n    //   inputtextArr=this.state.inputArr.map((dt,i)=>{\n    //       return(\n    //     <input type=\"text\" id={i} onChange={(e)=>this.qtyChange(i,e)} value={dt}/>\n          \n    //   )})\n    //   this.setState({inputhtmlArray:inputtextArr})\n      this.setState({htmlArray:htmlArr})\n     } ).catch((err) => \n                console.log ('error')\n                )\n        }\n    \n        orderDelete=async(e)=>{\n            e.preventDefault()\n            alert(\"Gif Deleted\")\n            console.log(e.target.value)\n            console.log(e.target.className)\n           await fetch(`/products/v1/products/`+e.target.value, {\n                method: 'DELETE',\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              })\n        //       .then( => {\n        //    // let updatedEmployees = [...this.state.employees].filter(i => i.id !== id);\n        //        // this.setState({employees: updatedEmployees});\n        //       });\n              this.getApi()\n    \n        }\n\n        updateDb=async()=>{\n            document.getElementById(this.state.urlChange).src=this.state.filePath\n            // await fetch(`${'https://cors-anywhere.herokuapp.com/'}https://glacial-woodland-21756.herokuapp.com/giphy/v1/gifs/`+this.state.urlChange, {\n                await fetch('/products/v1/products'+1,  {\n            method: 'PUT',\n              headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n              },\n              body:JSON.stringify({gifUrl:this.state.filePath})      }  )\n              .then(response => response.json())\n              .then((data)=>{\n      \n          \n             \n              })}\n        \n\n        qtyChange=(e,i)=>{\n// e.preventDefault()\nthis.setState({id:e.target.id})\nvar temp=this.state.htmlArray\n    temp[this.state.id].text=e.target.value;\n    this.setState({htmlArray:temp})\n    console.log(e.target.value )\n\n\n\n// var temp=this.state.inputArr[e.target.id];\n// console.log(temp[e.target.id])\n// temp[e.target.id]=32\n// console.log(temp[e.target.id])\n// this.setState({inputArr[e.target.id]:temp[e.target.id]})\n// this.state.inputArr[i]=e.target.value\n        //   temp[e.target.id].text=e.target.value\n          //this.setState({htmlArray:temp})\n// this.setState({:e.target.value})\n// let newItems = [...this.state.inputArr];\n// newItems[i] = e.target.value;\n//  this.setState({ inputArr:this.state.inputArr });\n}\n\nchange=(e)=>{\ne.preventDefault()\nthis.setState({why:e.target.value})\n}\n    render(){\n\n        return(\n         \n\n<React.Fragment>\n   <div className=\"cartParent\">\n       {this.state.htmlArray}\n     {this.state.inputhtmlArray}\n     {/* <p value={this.state.why} onChange={this.change}></p> */}\n   </div>\n   \n           \n   \n     </React.Fragment> \n           \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}