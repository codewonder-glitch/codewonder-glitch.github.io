{"ast":null,"code":"var _jsxFileName = \"/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/ecommerceapp/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\"; // import Cart from './Cart'\n\nimport './styles/shop.scss';\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.saveImage = e => {\n      console.log(this.props.searchKey);\n      var gifObj = {};\n      gifObj = {\n        gifName: this.props.searchKey,\n        gifCategory: this.props.searchKey,\n        gifUrl: e.target.value\n      };\n      console.log(gifObj[\"GifName\"]);\n      fetch(`${'https://cors-anywhere.herokuapp.com/'}https://glacial-woodland-21756.herokuapp.com/giphy/v1/gifs`, {\n        method: 'POST',\n        //  method:'PUT',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(gifObj)\n      });\n      document.getElementById(e.target.id).disabled = 'true';\n    };\n\n    this.state = {\n      searchKey: '',\n      srch: '',\n      count: '',\n      htmlArray: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.searchKey != undefined) this.callApi();\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(this.props.searchKey);\n\n    if (this.props.searchKey != prevProps.searchKey) {\n      console.log(this.props.searchKey);\n      this.callApi();\n    }\n  }\n\n  async callApi() {\n    // this.setState({searchKey:this.props.searchKey})\n    var searchKey = this.props.searchKey;\n    axios({\n      \"method\": \"GET\",\n      \"url\": \"https://apidojo-forever21-v1.p.rapidapi.com/products/search\",\n      \"headers\": {\n        \"content-type\": \"application/octet-stream\",\n        \"x-rapidapi-host\": \"apidojo-forever21-v1.p.rapidapi.com\",\n        \"x-rapidapi-key\": \"0c50512463mshf6956ddd7cdbe33p13858djsn036596cdcff1\",\n        \"useQueryString\": true\n      },\n      \"params\": {\n        \"color_groups\": \"black\",\n        \"start\": \"0\",\n        \"rows\": \"20\",\n        \"query\": \"men\"\n      }\n    }).then(res => {\n      console.log(res.data); // this.setState({htmlArray:res.data.data});\n\n      console.log(res.data.response.docs[0].thumb_image); //console.log(this.state.htmlArray)\n      // this.setState({img:res.data.data[0].images.downsized.url})\n      //       let src;\n      //      let htmlArray = res.data.data.data.response.map((resObj,i) => \n      //        <div className=\"imagecontainer\">\n      //    <img src={resObj.images.downsized.url} />\n      //    <button id={i} value={resObj.images.downsized.url} onClick={this.saveImage} >Bookmark</button>\n      //    </div>\n      // );\n      //  this.setState({htmlArray:htmlArray})\n    }).catch(err => {\n      console.log('error');\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gridContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 4\n      }\n    }, this.state.htmlArray));\n  }\n\n}","map":{"version":3,"sources":["/Users/student_m13/Desktop/Github/codewonder-glitch.github.io/ecommerceapp/src/components/Search.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","Switch","Search","constructor","props","saveImage","e","console","log","searchKey","gifObj","gifName","gifCategory","gifUrl","target","value","fetch","method","headers","body","JSON","stringify","document","getElementById","id","disabled","state","srch","count","htmlArray","componentDidMount","undefined","callApi","componentDidUpdate","prevProps","then","res","data","response","docs","thumb_image","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {  BrowserRouter as Router, Route, Link ,Switch} from \"react-router-dom\";\n\n// import Cart from './Cart'\nimport './styles/shop.scss'\n\nexport default class Search extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n        searchKey:'',\n        srch:'',\n        count:'',\n        htmlArray:[]\n        }\n    }\n   \n\n    componentDidMount() {\n    \n     \n        if(this.props.searchKey!=undefined)\n      this.callApi();   \n         \n     }\n \n     componentDidUpdate(prevProps) {\n       console.log(this.props.searchKey)\n       if (this.props.searchKey!=prevProps.searchKey)\n        {\n          \n          console.log(this.props.searchKey)\n            this.callApi()\n        }\n            }\n     \n     \n \n     async callApi() {\n       // this.setState({searchKey:this.props.searchKey})\n       var searchKey=this.props.searchKey\n       axios({\n        \"method\":\"GET\",\n        \"url\":\"https://apidojo-forever21-v1.p.rapidapi.com/products/search\",\n        \"headers\":{\n        \"content-type\":\"application/octet-stream\",\n        \"x-rapidapi-host\":\"apidojo-forever21-v1.p.rapidapi.com\",\n        \"x-rapidapi-key\":\"0c50512463mshf6956ddd7cdbe33p13858djsn036596cdcff1\",\n        \"useQueryString\":true\n        },\"params\":{\n        \"color_groups\":\"black\",\n        \"start\":\"0\",\n        \"rows\":\"20\",\n        \"query\":\"men\"\n        }\n        })  \n         .then((res) => {\n           console.log(res.data)\n           // this.setState({htmlArray:res.data.data});\n             console.log(res.data.response.docs[0].thumb_image)\n             //console.log(this.state.htmlArray)\n             // this.setState({img:res.data.data[0].images.downsized.url})\n        \n       //       let src;\n    //      let htmlArray = res.data.data.data.response.map((resObj,i) => \n    //        <div className=\"imagecontainer\">\n      \n    //    <img src={resObj.images.downsized.url} />\n    //    <button id={i} value={resObj.images.downsized.url} onClick={this.saveImage} >Bookmark</button>\n    //    </div>\n       \n        // );\n        //  this.setState({htmlArray:htmlArray})\n          \n \n         })\n         .catch((err) => {\n         console.log ('error');\n         })\n         \n       }\n \n       \n \n       saveImage=(e)=>{\n         console.log(this.props.searchKey)\n         var gifObj={ }\n          gifObj={\n           gifName: this.props.searchKey,\n           gifCategory: this.props.searchKey,\n           gifUrl: e.target.value\n \n         }\n         console.log(gifObj[\"GifName\"])\n         fetch(`${'https://cors-anywhere.herokuapp.com/'}https://glacial-woodland-21756.herokuapp.com/giphy/v1/gifs`, {\n           method: 'POST',\n          //  method:'PUT',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify( gifObj )\n        });\n        document.getElementById(e.target.id).disabled='true'\n       }\n render(){\n \n   return (\n   \n     <React.Fragment>\n   <div className=\"gridContainer\">\n   {this.state.htmlArray}\n       \n      \n     </div>\n     </React.Fragment> \n   )\n }\n}"]},"metadata":{},"sourceType":"module"}